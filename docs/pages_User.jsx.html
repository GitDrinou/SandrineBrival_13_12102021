<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: pages/User.jsx</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: pages/User.jsx</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import { useEffect } from 'react'
import { TITLE_PAGE_PROFILE } from '../utils/constants'
import { useDispatch, useSelector } from 'react-redux'
import { fetchUser } from '../features/loginSlice'
import Dashboard from '../components/Dashboard'
import '../sass/user.scss'

/**
 * COMPONENT User
 * @returns the dashboard of the user only if the user is connected.
 */
function User() {

    // Change the title page
    useEffect(() => {
        document.title = TITLE_PAGE_PROFILE
    }, [])
    
    const dispatch = useDispatch()
    const secureKey = useSelector(state => state.login.token)   // select the token value from the store

    // launch the fetchUser actions with secureKey as param
    useEffect(() => {
        dispatch(fetchUser(secureKey))
    }, [dispatch, secureKey])
    
    const userStatus = useSelector(state => state.login.userStatus) // select the userStatus value from the store
    
    let content
    const firstName = useSelector(state => state.login.userInfos.firstName) // select the firstName value from the store
    const lastName = useSelector(state => state.login.userInfos.lastName)   // select the lastName value from the store
    const idUser = useSelector(state => state.login.userInfos.id)           // select the id value frome the store

    if (userStatus === 'succeeded') {

        content = &lt;Dashboard firstName={firstName} lastName={lastName} idUser={idUser} />
    }

    return (
        &lt;div>
            {content}   
        &lt;/div>
        
    )
}

export default User</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#capitalizeString">capitalizeString</a></li><li><a href="global.html#configureStore">configureStore</a></li><li><a href="global.html#fakeAccounts">fakeAccounts</a></li><li><a href="global.html#homeFeatures">homeFeatures</a></li><li><a href="global.html#Transaction">Transaction</a></li><li><a href="global.html#User">User</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Wed Nov 03 2021 12:38:30 GMT+0100 (heure normale dâ€™Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
